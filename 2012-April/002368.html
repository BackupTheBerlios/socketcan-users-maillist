<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] CPU load inhibits CAN interrupts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20CPU%20load%20inhibits%20CAN%20interrupts&In-Reply-To=%3C4F84425F.8040009%40mobile.put.edu.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] CPU load inhibits CAN interrupts</H1>
    <B>Krzysztof Witkowski</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20CPU%20load%20inhibits%20CAN%20interrupts&In-Reply-To=%3C4F84425F.8040009%40mobile.put.edu.pl%3E"
       TITLE="[Socketcan-users] CPU load inhibits CAN interrupts">Krzysztof.Witkowski at mobile.put.edu.pl
       </A><BR>
    <I>Tue Apr 10 16:23:27 CEST 2012</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002369.html">[Socketcan-users] Detect Up/Down State of  CAN-Bus in C-program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2368">[ date ]</a>
              <a href="thread.html#2368">[ thread ]</a>
              <a href="subject.html#2368">[ subject ]</a>
              <a href="author.html#2368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have an Ubuntu box with 3.2 kernel, CPU with 2 cores and PEAK-PCI card 
(SJA1000 controller attached via PCI bus)

I'm testing receive capabilities of the card on 1Mbit network.
It can handle about ~4000 packets per second, the corresponding 
interrupt is also raised ~4000 times per second (as /proc/interrupts 
shows) and it does not cause high CPU load on the system.

However, if I generate artificial CPU load with stress command:

    chrt --idle 0 stress -c 2

the Receive Interrupts from SJA1000 are no longer raised at all and 
therefore no messages are received. Why CPU load inhibits hardware 
interrupts and what can be done about it? Or should I suspect hardware 
malfunction?
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002369.html">[Socketcan-users] Detect Up/Down State of  CAN-Bus in C-program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2368">[ date ]</a>
              <a href="thread.html#2368">[ thread ]</a>
              <a href="subject.html#2368">[ subject ]</a>
              <a href="author.html#2368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
