<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Missing error counters?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Missing%20error%20counters%3F&In-Reply-To=%3C49DCB5A5.7000202%40mlbassoc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000759.html">
   <LINK REL="Next"  HREF="000761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Missing error counters?</H1>
    <B>Gary Thomas</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Missing%20error%20counters%3F&In-Reply-To=%3C49DCB5A5.7000202%40mlbassoc.com%3E"
       TITLE="[Socketcan-users] Missing error counters?">gary at mlbassoc.com
       </A><BR>
    <I>Wed Apr  8 16:33:09 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000759.html">[Socketcan-users] Limiting the send rate
</A></li>
        <LI>Next message: <A HREF="000761.html">[Socketcan-users] Missing error counters?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#760">[ date ]</a>
              <a href="thread.html#760">[ thread ]</a>
              <a href="subject.html#760">[ subject ]</a>
              <a href="author.html#760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a system running SocketCAN via SJA1000 devices (FPGA
cores).  If I have a bus with no devices (and possibly not
terminated), I get deluged with BUS ERROR interrupts.

We're trying to figure out how to get rid of these (probably
by terminating the bus, but it's 6000 miles [literally] from
me and I have to rely on others to make that happen).

Anyway, my real question is that these errors don't seem to
be getting out of the device layer.  I'm checking the status
of the devices like this:

# cat /proc/net/dev
Inter-|   Receive                                                |  Transmit
 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compresse
d
    lo:    3335      27    0    0    0     0          0         0     3335      27    0    0    0     0       0
0
  eth0:   17015     133    0    0    0     0          0         8        0       0    0    0    0     0       0
0
  can0: 7024584  878073    0    0    0     0          0         0        1       0    0    0    0     0       0
0
  can1: 7024472  878059    0    0    0     0          0         0        1       0    0    0    0     0       0
0
  can2: 7024368  878046    0    0    0     0          0         0        1       0    0    0    0     0       0
0
  can3: 7024344  878043    0    0    0     0          0         0        1       0    0    0    0     0       0
0
  can4:     524     524    0    0    0     0          0         0        3       2    0    0    0     0       0
0

You can see that the busses without devices are getting interrupted
to death, but no error indicators.

What am I missing?

Thanks

-- 
------------------------------------------------------------
Gary Thomas                 |  Consulting for the
MLB Associates              |    Embedded world
------------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000759.html">[Socketcan-users] Limiting the send rate
</A></li>
	<LI>Next message: <A HREF="000761.html">[Socketcan-users] Missing error counters?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#760">[ date ]</a>
              <a href="thread.html#760">[ thread ]</a>
              <a href="subject.html#760">[ subject ]</a>
              <a href="author.html#760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
