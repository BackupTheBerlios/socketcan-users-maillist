<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] [CAN] kernel 2.6.28 integration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20%5BCAN%5D%20kernel%202.6.28%20integration&In-Reply-To=%3C49D6463D.6050706%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000744.html">
   <LINK REL="Next"  HREF="000746.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] [CAN] kernel 2.6.28 integration</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20%5BCAN%5D%20kernel%202.6.28%20integration&In-Reply-To=%3C49D6463D.6050706%40grandegger.com%3E"
       TITLE="[Socketcan-users] [CAN] kernel 2.6.28 integration">wg at grandegger.com
       </A><BR>
    <I>Fri Apr  3 19:24:13 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000744.html">[Socketcan-users] [CAN] kernel 2.6.28 integration
</A></li>
        <LI>Next message: <A HREF="000746.html">[Socketcan-users] I want to implement CAN Protocol functionality in	normal Linux machine( Debian Linux 2.6.18-6-amd64 )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#745">[ date ]</a>
              <a href="thread.html#745">[ thread ]</a>
              <a href="subject.html#745">[ subject ]</a>
              <a href="author.html#745">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hector Oron wrote:
&gt;<i> Hi again,
</I>&gt;<i> 
</I>&gt;<i>   I got my driver working a while ago (good for me and thank to you).
</I>&gt;<i> 
</I>&gt;<i>   I'd like to comment that I removed CAN vanilla kernel code and I added
</I>&gt;<i> socket-can project code, but when looking to sysfs to change bitrate I
</I>&gt;<i> found this:
</I>&gt;<i> 
</I>&gt;<i> / # ls /sys/class/net/can0/
</I>&gt;<i> addr_len      dev_id        ifalias       mtu           subsystem
</I>&gt;<i> address       dormant       ifindex       operstate     tx_queue_len
</I>&gt;<i> broadcast     features      iflink        power         type
</I>&gt;<i> carrier       flags         link_mode     statistics    uevent
</I>&gt;<i> 
</I>&gt;<i> I have seen some patches on LKLM[1] which I believe are still waiting to
</I>&gt;<i> be approved (if ever net-dev people accept them).
</I>
We need to get a few things fixed first. Especially we need to replace
the SysFS files with a Netlink interface to set the bittiming as shown:

 # ip link set can0 bitrate 125000 up

&gt;<i> So, the question would be what would be the recommended way to add
</I>&gt;<i> bitrate attribute to sysfs, nowadays (today)?
</I>
Have a look to the SJA1000 driver on what is necessary to support
bittime settting. It does not depend on the interface available for the
user and it will work today with SsyFS and in the near future with
Netlink as well.

Wolfgang.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000744.html">[Socketcan-users] [CAN] kernel 2.6.28 integration
</A></li>
	<LI>Next message: <A HREF="000746.html">[Socketcan-users] I want to implement CAN Protocol functionality in	normal Linux machine( Debian Linux 2.6.18-6-amd64 )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#745">[ date ]</a>
              <a href="thread.html#745">[ thread ]</a>
              <a href="subject.html#745">[ subject ]</a>
              <a href="author.html#745">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
