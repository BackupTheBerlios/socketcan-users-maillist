<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] MCP2515 design opinion
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20MCP2515%20design%20opinion&In-Reply-To=%3C4D973DD4.5070202%40pengutronix.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001855.html">
   <LINK REL="Next"  HREF="001857.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] MCP2515 design opinion</H1>
    <B>Marc Kleine-Budde</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20MCP2515%20design%20opinion&In-Reply-To=%3C4D973DD4.5070202%40pengutronix.de%3E"
       TITLE="[Socketcan-users] MCP2515 design opinion">mkl at pengutronix.de
       </A><BR>
    <I>Sat Apr  2 17:16:36 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001855.html">[Socketcan-users] MCP2515 design opinion
</A></li>
        <LI>Next message: <A HREF="001857.html">[Socketcan-users] MCP2515 design opinion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1856">[ date ]</a>
              <a href="thread.html#1856">[ thread ]</a>
              <a href="subject.html#1856">[ subject ]</a>
              <a href="author.html#1856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/02/2011 09:44 AM, bruce bushby wrote:
&gt;<i> Thanks for the advice, much appreciated!!!
</I>&gt;<i> 
</I>&gt;<i> Since I'm having a prototype made, I'll pass on the recommendation and see
</I>&gt;<i> if I can switch one of the MCP 2515's for SJA1000 and test both solutions.
</I>
That would be a good choice. In the next revision you can add some logic
(e.g. in a CPLD) and attach two sja1000 to one chip select. From a
software point of view you can attach both sja1000's interrupt to the
same CPU gpio (wired-or or wired-and - ask your hardware guys :).

&gt;<i> I'm using Telit's GE863-PRO which only has a 200Mhz cpu so ideally I need to
</I>&gt;<i> conserve as many cpu cycles as possible.
</I>
CAN is no big deal for a 200 MHz ARM9 using a proper connected
controller. For example the atmel at91sam9263, has an internal attached
controller. The driver makes use of the multiple rx mailboxes and the
load generated by the CAN is quite low. I don't want to use SPI on this
controller.

Looking over Telit's documentation
(Telit_GE863-PRO&#179;_Linux_CAN_Package_SW_User_Guide_r0) it seems they have
(at least) modified the mcp251x driver.

# modprobe mcp251x.ko cs=2 irq_gpio=90

The mainline driver doesn't have this module parameters.

cheers,
Marc

-- 
Pengutronix e.K.                  | Marc Kleine-Budde           |
Industrial Linux Solutions        | Phone: +49-231-2826-924     |
Vertretung West/Dortmund          | Fax:   +49-5121-206917-5555 |
Amtsgericht Hildesheim, HRA 2686  | <A HREF="http://www.pengutronix.de">http://www.pengutronix.de</A>   |

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-users/attachments/20110402/3bcde07e/attachment.pgp">https://lists.berlios.de/pipermail/socketcan-users/attachments/20110402/3bcde07e/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001855.html">[Socketcan-users] MCP2515 design opinion
</A></li>
	<LI>Next message: <A HREF="001857.html">[Socketcan-users] MCP2515 design opinion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1856">[ date ]</a>
              <a href="thread.html#1856">[ thread ]</a>
              <a href="subject.html#1856">[ subject ]</a>
              <a href="author.html#1856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
