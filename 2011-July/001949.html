<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Help with CAN_RAW_LOOPBACK
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Help%20with%20CAN_RAW_LOOPBACK&In-Reply-To=%3C4E208092.5070309%40sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001948.html">
   <LINK REL="Next"  HREF="001950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Help with CAN_RAW_LOOPBACK</H1>
    <B>Mike Brown</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Help%20with%20CAN_RAW_LOOPBACK&In-Reply-To=%3C4E208092.5070309%40sgi.com%3E"
       TITLE="[Socketcan-users] Help with CAN_RAW_LOOPBACK">mtb at sgi.com
       </A><BR>
    <I>Fri Jul 15 20:01:54 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001948.html">[Socketcan-users] SocketCan on s3c64xx Board
</A></li>
        <LI>Next message: <A HREF="001950.html">[Socketcan-users] Help with CAN_RAW_LOOPBACK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1949">[ date ]</a>
              <a href="thread.html#1949">[ thread ]</a>
              <a href="subject.html#1949">[ subject ]</a>
              <a href="author.html#1949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm developing software for the Freescale P1010 microcontroller, running:

     Linux buildroot 2.6.35.13 #30 Mon Jun 20 10:49:21 CDT 2011 ppc 
GNU/Linux

It has two FlexCAN CAN 2.0B interfaces which are configured as:

     ip link set can0 up type can bitrate 1000000
     ip link set can1 up type can bitrate 1000000

I've got two apps running that utilize SocketCAN to access the CAN 
device, both open the same interface (can0).  App B is listening for a 
packet with a specific ID/mask.  App A starts and sends a packet with 
the appropriate ID that B should catch, but B never sees it.  If I start 
App B on the second CAN interface, it does see the pack (as expected).

I have queried CAN_RAW_LOOPBACK via getsockopt() and it says it is a 1.

Also if I create a vcan interface, and both A and B open that interface, 
all works as expected.

What might need to do to get the Flexcan interface to behave the same as 
the virtual can interface?

Thanks!





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001948.html">[Socketcan-users] SocketCan on s3c64xx Board
</A></li>
	<LI>Next message: <A HREF="001950.html">[Socketcan-users] Help with CAN_RAW_LOOPBACK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1949">[ date ]</a>
              <a href="thread.html#1949">[ thread ]</a>
              <a href="subject.html#1949">[ subject ]</a>
              <a href="author.html#1949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
