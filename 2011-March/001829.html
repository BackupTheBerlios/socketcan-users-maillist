<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Setting the clock, ocr and cdr values
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Setting%20the%20clock%2C%20ocr%20and%20cdr%20values&In-Reply-To=%3CAB277FB27524F74C87ACAFF84F2767490D45E90418%40NTMBOX.central.cirsa.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001827.html">
   <LINK REL="Next"  HREF="001830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Setting the clock, ocr and cdr values</H1>
    <B>Jorge Fernandez Monteagudo</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Setting%20the%20clock%2C%20ocr%20and%20cdr%20values&In-Reply-To=%3CAB277FB27524F74C87ACAFF84F2767490D45E90418%40NTMBOX.central.cirsa.com%3E"
       TITLE="[Socketcan-users] Setting the clock, ocr and cdr values">jorgefm at cirsa.com
       </A><BR>
    <I>Mon Mar 14 11:42:03 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001827.html">[Socketcan-users] Getting started with Linux &amp; SocketCAN
</A></li>
        <LI>Next message: <A HREF="001830.html">[Socketcan-users] Setting the clock, ocr and cdr values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1829">[ date ]</a>
              <a href="thread.html#1829">[ thread ]</a>
              <a href="subject.html#1829">[ subject ]</a>
              <a href="author.html#1829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to implement my can infrastructure with socketcan. I would like to know where to find
information about the values from sja1000_priv struct, the can.clock.freq, ocr and cdr.

I'm following the plx_pci.c code but in my driver I setup these register in a different way.
First, I set the CDR &lt;- 0xC0, then I set the clock using the BTR0 and BTR1 registers to set the 1Mbps
baudrate, BTR0 &lt;- 0x01, BTR1 &lt;- 0x10 and finally the OCR register is initialized with OCR &lt;- 0x1A.

Any hint is appreciated,
Jorge

________________________________
Este mensaje se dirige exclusivamente a su destinatario y puede contener informaci&#243;n privilegiada o CONFIDENCIAL. Si no es vd. el destinatario indicado, queda notificado de que la utilizaci&#243;n, divulgaci&#243;n y/o copia sin autorizaci&#243;n est&#225; prohibida en virtud de la legislaci&#243;n vigente. Si ha recibido este mensaje por error, le rogamos que nos lo comunique inmediatamente por esta misma v&#237;a y proceda a su destrucci&#243;n.

This message is intended exclusively for its addressee and may contain information that is CONFIDENTIAL and protected by professional privilege.
If you are not the intended recipient you are hereby notified that any dissemination, copy or disclosure of this communication is strictly prohibited by law. If this message has been received in error, please immediately notify us via e-mail and delete it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-users/attachments/20110314/113c3b03/attachment.html">https://lists.berlios.de/pipermail/socketcan-users/attachments/20110314/113c3b03/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001827.html">[Socketcan-users] Getting started with Linux &amp; SocketCAN
</A></li>
	<LI>Next message: <A HREF="001830.html">[Socketcan-users] Setting the clock, ocr and cdr values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1829">[ date ]</a>
              <a href="thread.html#1829">[ thread ]</a>
              <a href="subject.html#1829">[ subject ]</a>
              <a href="author.html#1829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
