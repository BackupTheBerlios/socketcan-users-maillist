<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] rapid socket Write &amp; read crash on M54418TWR
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20rapid%20socket%20Write%20%26%20read%20crash%20on%20M54418TWR&In-Reply-To=%3C4E694C5C.3060805%40pengutronix.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002131.html">
   <LINK REL="Next"  HREF="002134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR</H1>
    <B>Marc Kleine-Budde</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20rapid%20socket%20Write%20%26%20read%20crash%20on%20M54418TWR&In-Reply-To=%3C4E694C5C.3060805%40pengutronix.de%3E"
       TITLE="[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR">mkl at pengutronix.de
       </A><BR>
    <I>Fri Sep  9 01:14:36 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002131.html">[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR
</A></li>
        <LI>Next message: <A HREF="002134.html">[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2133">[ date ]</a>
              <a href="thread.html#2133">[ thread ]</a>
              <a href="subject.html#2133">[ subject ]</a>
              <a href="author.html#2133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Francois,

please don't forget the mailinglist on CC!

On 09/08/2011 04:27 PM, Francois Bouchard wrote:
&gt;&gt;<i> On 09/07/2011 10:29 PM, Francois Bouchard wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> what does &quot;the program reset by itself after a while&quot; mean?
</I>&gt;&gt;&gt;&gt;<i> I mean yes the whole system seems to reboots apparently because of the
</I>&gt;&gt;<i> test
</I>&gt;&gt;&gt;&gt;<i> program.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It really seems to be a driver problem. Do you have any error messages
</I>&gt;&gt;&gt;<i> prior to the reboot? Does the system hang or become unresponsive prior
</I>&gt;&gt;&gt;<i> to rebooting?
</I>&gt;&gt;<i>
</I>&gt;<i>      Yes see below terminal message:
</I>
Is this debug information generated by the driver?
It's printed to the serial console, isn't it?
Is this debug printing enabled by default? If so, disable it.

Printing to the serial line is quite expensive, it takes to much time to
print the when receiving at 1000 kbit/s.

&gt;<i> 
</I>&gt;<i>      Transmission code active 0xc080000
</I>&gt;<i>      reg-&gt;caniflg = 0x3
</I>&gt;<i>      ** MB[1] : CODE=0x6 LEN=8
</I>&gt;<i>      ** RX
</I>&gt;<i>      OVERRUN
</I>&gt;<i>      DATA[0]                                         = 0x4c
</I>&gt;<i>      DATA[1]                                         = 0x2e
</I>&gt;<i>      DATA[2]                                         = 0x1
</I>&gt;<i>      DATA[3]                                         = 0x22
</I>&gt;<i>      DATA[4]                                         = 0x0
</I>&gt;<i>      DATA[5]                                         = 0x0
</I>&gt;<i>      DATA[6]                                         = 0x72
</I>&gt;<i>      DATA[7]                                         = 0x14
</I>&gt;<i>      ID = 0x0
</I>&gt;<i> 
</I>&gt;<i>     Transmission code active 0xc080000
</I>&gt;<i>     reg-&gt;caniflg = 0x3
</I>&gt;<i>      ** MB[1] : CODE=0x6 LEN=8
</I>&gt;<i>      ** RX
</I>&gt;<i>      OVERRUN
</I>&gt;<i>      DATA[0]                                         = 0x4c
</I>&gt;<i>      DATA[1]                                         = 0x2e
</I>&gt;<i>      DATA[2]                                         = 0x1
</I>&gt;<i>      DATA[3]                                         = 0x42
</I>&gt;<i>      DATA[4]
</I>&gt;<i>    * incomplete received data printing...
</I>&gt;<i>    * THEN reboot HERE...
</I>
Do you have a watchdog in the system, that can cause the reboot?
Does it always reboot in the middle of DATA[4]?

&gt;<i>    I know there is a buffer overrun on MB[1] (CODE = 0x6) which mean that a
</I>&gt;<i> frame
</I>&gt;<i>    was overwritten into a full buffer.
</I>
The overflow is probably due to high load caused by the debug output.

[...]

&gt;<i>     There is an update here:
</I>
Looks like an update for some Eclipse plugins...

cheers, Marc

-- 
Pengutronix e.K.                  | Marc Kleine-Budde           |
Industrial Linux Solutions        | Phone: +49-231-2826-924     |
Vertretung West/Dortmund          | Fax:   +49-5121-206917-5555 |
Amtsgericht Hildesheim, HRA 2686  | <A HREF="http://www.pengutronix.de">http://www.pengutronix.de</A>   |

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-users/attachments/20110909/21c22691/attachment.pgp">https://lists.berlios.de/pipermail/socketcan-users/attachments/20110909/21c22691/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002131.html">[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR
</A></li>
	<LI>Next message: <A HREF="002134.html">[Socketcan-users] rapid socket Write &amp; read crash on M54418TWR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2133">[ date ]</a>
              <a href="thread.html#2133">[ thread ]</a>
              <a href="subject.html#2133">[ subject ]</a>
              <a href="author.html#2133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
