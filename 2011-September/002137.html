<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Compile Fails On 2.6.39-2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Compile%20Fails%20On%202.6.39-2&In-Reply-To=%3C4E7627DD.8000407%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002136.html">
   <LINK REL="Next"  HREF="002138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Compile Fails On 2.6.39-2</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Compile%20Fails%20On%202.6.39-2&In-Reply-To=%3C4E7627DD.8000407%40grandegger.com%3E"
       TITLE="[Socketcan-users] Compile Fails On 2.6.39-2">wg at grandegger.com
       </A><BR>
    <I>Sun Sep 18 19:18:21 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002136.html">[Socketcan-users] Compile Fails On 2.6.39-2
</A></li>
        <LI>Next message: <A HREF="002138.html">[Socketcan-users] socketcan and codesys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2137">[ date ]</a>
              <a href="thread.html#2137">[ thread ]</a>
              <a href="subject.html#2137">[ subject ]</a>
              <a href="author.html#2137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/18/2011 11:10 AM, Wolfgang Zarre wrote:
&gt;<i> Hello Wolfgang,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello Wolfgang,
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 08/30/2011 09:01 AM, Wolfgang Zarre wrote:
</I>&gt;&gt;&gt;&gt;<i> Hello Wolfgang,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> On 08/15/2011 05:58 PM, Wolfgang Zarre wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Hello Wolfgang,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Hello Oliver,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> AFAIK the cc770 driver reworked by Wolfgang Grandegger is currently
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> not part
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> of the Mainline Kernel, so using the SocketCAN SVN is the right
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> way by
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> now.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Thank You, I assumed so but was not sure after 35 hours in front
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> of the
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> screen.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> Indeed having the cc770 driver in the mainline kernel is more
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> comfortable ;-)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> That would be absolutely great, at least for my client.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> (One developer of the team I had to explain 'make' but he is
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> studying IT
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 3rd semester :O )
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I'm willing to push that driver to mainline. If I provide a patch it
</I>&gt;&gt;&gt;&gt;&gt;<i> would be great if you could test it on your CC770 hardware. Are you
</I>&gt;&gt;&gt;&gt;&gt;<i> able
</I>&gt;&gt;&gt;&gt;&gt;<i> to work and test with the mainline kernel?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Yes, of course, this I can do easily however, the cc770 is an ISA card
</I>&gt;&gt;&gt;&gt;<i> but I don't have PCI hardware available.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Yes, of course. The CC770 core plus ISA driver is already a good
</I>&gt;&gt;&gt;<i> starting point. In the BerliOS repo we also have an of platform driver
</I>&gt;&gt;&gt;<i> which should be converted to a combine of and legacy platform driver.
</I>&gt;&gt;&gt;<i> Unfortunately, I do not have the TQM85xx board with a CC770 available an
</I>&gt;&gt;&gt;<i> more. Hope to have a patch series ready in a few days.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ok, thanks, let me know then for some tests.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I'm really sorry not having mentioned that I made a small correction in
</I>&gt;<i> cc770_isa.c to get it working properly and I hope it's not too late
</I>&gt;<i> now.
</I>
It's not too late, for sure. I have already prepare a patch for mainline
inclusion but I'm awaiting some feedback on how to handle ISA devices on
x86_64.

&gt;<i> --- cc770_isa.c.orig    2011-08-10 15:37:12.000000000 +0200
</I>&gt;<i> +++ cc770_isa.c    2011-08-10 15:37:28.000000000 +0200
</I>&gt;<i> @@ -75,10 +75,10 @@
</I>&gt;<i>           &quot;(default=16000000 [16 MHz])&quot;);
</I>&gt;<i> 
</I>&gt;<i>  module_param_array(cir, byte, NULL, S_IRUGO);
</I>&gt;<i> -MODULE_PARM_DESC(cdr, &quot;CPU interface register (default=0x40 [CPU_DSC])&quot;);
</I>&gt;<i> +MODULE_PARM_DESC(cir, &quot;CPU interface register (default=0x40 [CPU_DSC])&quot;);
</I>&gt;<i> 
</I>&gt;<i>  module_param_array(bcr, byte, NULL, S_IRUGO);
</I>&gt;<i> -MODULE_PARM_DESC(ocr, &quot;Bus configuration register (default=0x00)&quot;);
</I>&gt;<i> +MODULE_PARM_DESC(bcr, &quot;Bus configuration register (default=0x00)&quot;);
</I>&gt;<i> 
</I>&gt;<i>  module_param_array(cor, byte, NULL, S_IRUGO);
</I>&gt;<i>  MODULE_PARM_DESC(cor, &quot;Clockout register (default=0x00)&quot;);
</I>

OK. Will have a closer look later.

Wolfgang.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002136.html">[Socketcan-users] Compile Fails On 2.6.39-2
</A></li>
	<LI>Next message: <A HREF="002138.html">[Socketcan-users] socketcan and codesys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2137">[ date ]</a>
              <a href="thread.html#2137">[ thread ]</a>
              <a href="subject.html#2137">[ subject ]</a>
              <a href="author.html#2137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
