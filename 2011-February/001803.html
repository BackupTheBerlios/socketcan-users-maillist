<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] sja1000 can controller in a kernel 2.6.25
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20sja1000%20can%20controller%20in%20a%20kernel%202.6.25&In-Reply-To=%3CAB277FB27524F74C87ACAFF84F2767490D459C5CB1%40NTMBOX.central.cirsa.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001802.html">
   <LINK REL="Next"  HREF="001804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] sja1000 can controller in a kernel 2.6.25</H1>
    <B>Jorge Fernandez Monteagudo</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20sja1000%20can%20controller%20in%20a%20kernel%202.6.25&In-Reply-To=%3CAB277FB27524F74C87ACAFF84F2767490D459C5CB1%40NTMBOX.central.cirsa.com%3E"
       TITLE="[Socketcan-users] sja1000 can controller in a kernel 2.6.25">jorgefm at cirsa.com
       </A><BR>
    <I>Mon Feb 28 11:33:49 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001802.html">[Socketcan-users] sja1000 can controller in a kernel 2.6.25
</A></li>
        <LI>Next message: <A HREF="001804.html">[Socketcan-users] Minimum interface to sja1000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1803">[ date ]</a>
              <a href="thread.html#1803">[ thread ]</a>
              <a href="subject.html#1803">[ subject ]</a>
              <a href="author.html#1803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> -----Mensaje original-----
</I>&gt;<i> De: Wolfgang Grandegger [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-users">wg at grandegger.com</A>]
</I>&gt;<i> Enviado el: Friday, February 25, 2011 8:24 PM
</I>&gt;<i> Para: Jorge Fernandez Monteagudo
</I>&gt;<i> CC: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-users">socketcan-users at lists.berlios.de</A>
</I>&gt;<i> Asunto: Re: [Socketcan-users] sja1000 can controller in a kernel 2.6.25
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 02/25/2011 03:00 PM, Jorge Fernandez Monteagudo wrote:
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would like to know if there is some way to backport the sja1000
</I>&gt;<i> driver to an old
</I>&gt;<i> &gt; kernel, the 2.6.25. I've found some basic can network architecture
</I>&gt;<i> inside (the
</I>&gt;<i> &gt; drivers/net/can directory, only with vcan.c, the net/can directory)
</I>&gt;<i> I've read
</I>&gt;<i> &gt; the initial sja1000 support was 2.6.31. Then, I'll need to add an
</I>&gt;<i> interface
</I>&gt;<i> &gt; file in order to get access to the sja1000 because in my hardware is
</I>&gt;<i> inside
</I>&gt;<i> &gt; a FPGA.
</I>&gt;<i>
</I>&gt;<i> The Socket-CAN-Version of the SVN-Repository at BerliOS [1,2]
</I>&gt;<i> supports 2.6.25. I can easily be built out-of-tree.
</I>&gt;<i>
</I>&gt;<i> Wolfgang.
</I>&gt;<i>
</I>&gt;<i> [1] <A HREF="http://developer.berlios.de/projects/socketcan/">http://developer.berlios.de/projects/socketcan/</A>
</I>&gt;<i> [2] <A HREF="http://svn.berlios.de/wsvn/socketcan/trunk/README">http://svn.berlios.de/wsvn/socketcan/trunk/README</A>
</I>

Oops, it's seems there is some problems...

# make KERNELDIR=/usr/src/linux-2.6.25
make -C /usr/src/linux-2.6.25 M=/opt/socketcan/kernel/2.6 modules TOPDIR=/opt/socketcan/kernel/2.6
make[1]: Entering directory `/usr/src/linux-2.6.25'

  WARNING: Symbol version dump /usr/src/linux-2.6.25/Module.symvers
           is missing; modules will have no dependencies and modversions.

  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/vcan.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/slcan.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/dev.o
  LD [M]  /opt/socketcan/kernel/2.6/drivers/net/can/can-dev.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/esd_pci331.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/mcp251x.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/cc770/cc770.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/cc770/cc770_isa.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000.o
  CC [M]  /opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000_platform.o
/opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000_platform.c:38:2: error: #error This driver does not support Kernel versions &lt; 2.6.27
/opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000_platform.c: In function &#8216;sp_probe&#8217;:
/opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000_platform.c:78: error: implicit declaration of function &#8216;resource_size&#8217;
make[4]: *** [/opt/socketcan/kernel/2.6/drivers/net/can/sja1000/sja1000_platform.o] Error 1
make[3]: *** [/opt/socketcan/kernel/2.6/drivers/net/can/sja1000] Error 2
make[2]: *** [/opt/socketcan/kernel/2.6/drivers/net/can] Error 2
make[1]: *** [_module_/opt/socketcan/kernel/2.6] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.25'
make: *** [modules] Error 2



Este mensaje se dirige exclusivamente a su destinatario y puede contener informaci&#243;n privilegiada o CONFIDENCIAL. Si no es vd. el destinatario indicado, queda notificado de que la utilizaci&#243;n, divulgaci&#243;n y/o copia sin autorizaci&#243;n est&#225; prohibida en virtud de la legislaci&#243;n vigente. Si ha recibido este mensaje por error, le rogamos que nos lo comunique inmediatamente por esta misma v&#237;a y proceda a su destrucci&#243;n.

This message is intended exclusively for its addressee and may contain information that is CONFIDENTIAL and protected by professional privilege.
If you are not the intended recipient you are hereby notified that any dissemination, copy or disclosure of this communication is strictly prohibited by law. If this message has been received in error, please immediately notify us via e-mail and delete it.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001802.html">[Socketcan-users] sja1000 can controller in a kernel 2.6.25
</A></li>
	<LI>Next message: <A HREF="001804.html">[Socketcan-users] Minimum interface to sja1000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1803">[ date ]</a>
              <a href="thread.html#1803">[ thread ]</a>
              <a href="subject.html#1803">[ subject ]</a>
              <a href="author.html#1803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
