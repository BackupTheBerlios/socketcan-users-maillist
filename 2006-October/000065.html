<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Testing socketcan
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Testing%20socketcan&In-Reply-To=%3C4525553F.3030701%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000064.html">
   <LINK REL="Next"  HREF="000066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Testing socketcan</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Testing%20socketcan&In-Reply-To=%3C4525553F.3030701%40hartkopp.net%3E"
       TITLE="[Socketcan-users] Testing socketcan">socketcan at hartkopp.net
       </A><BR>
    <I>Thu Oct  5 20:55:59 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000064.html">[Socketcan-users] Testing socketcan
</A></li>
        <LI>Next message: <A HREF="000066.html">[Socketcan-users] Testing socketcan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang Grandegger schrieb:
&gt;<i> Marco Cavallini [KOAN] wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Wolfgang Grandegger ha scritto:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Your test is OK but there are plenty of bus-errors and restarts.
</I>&gt;&gt;&gt;<i> You seem to have some electrical problems with the bus. Either the
</I>&gt;&gt;&gt;<i> bit-timing does not match or there is a problem with the cable, 
</I>&gt;&gt;&gt;<i> termination, etc. In the directory &quot;test&quot; there is also a program to 
</I>&gt;&gt;&gt;<i> send messages, &quot;tst-raw-sendto&quot;, IIRC.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>Hi Wolfgang, hi Marco,

indeed the plenty of bus-errors and restarts looks like a problem with 
the existing hardware.

&gt;<i> Does your cabling work with another setup? If you don't trust yet the 
</I>&gt;<i> socketcan driver, use the PEAK Linux driver for test purposes 
</I>&gt;<i> (see(<A HREF="http://www.peak-system.com/linux/index.htm">http://www.peak-system.com/linux/index.htm</A>).
</I>&gt;<i>
</I>&gt;<i> Wolfgang.
</I>&gt;<i>   
</I>Yep! That is what i would also recommend.

 From Marcos logfiles i can see, that he's having both CAN-controllers 
on irq 5 (but as he's only working with can0 this should hopefully not 
lead to any problem - is can1 at address 0xE200 also on irq 5?). Please 
check also, if the IRQs are reserved for ISA in your BIOS setup, and 
look under /proc/interrupts if the irq 5 is definitely ONLY dedicated to 
can0. These hints are important for the PEAK driver also!

Due to your request Urs doublechecked the current driver from SVN today 
and it was working properly. Btw. i'm wondering why you get these much 
bus-errors, when you only try to _read_ from the bus e.g. using candump. 
Do you get this behaviour even when disconnect all the CAN-wires from can0?

What CAN-Hardware are you using there? Any link?

Regards,
Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000064.html">[Socketcan-users] Testing socketcan
</A></li>
	<LI>Next message: <A HREF="000066.html">[Socketcan-users] Testing socketcan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
