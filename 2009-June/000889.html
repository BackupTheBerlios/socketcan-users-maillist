<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Socket CAN with intel 82527 CAN Controller on PC104
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Socket%20CAN%20with%20intel%2082527%20CAN%20Controller%20on%0A%20PC104&In-Reply-To=%3C4A3132E5.5000900%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000887.html">
   <LINK REL="Next"  HREF="000890.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Socket CAN with intel 82527 CAN Controller on PC104</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Socket%20CAN%20with%20intel%2082527%20CAN%20Controller%20on%0A%20PC104&In-Reply-To=%3C4A3132E5.5000900%40grandegger.com%3E"
       TITLE="[Socketcan-users] Socket CAN with intel 82527 CAN Controller on PC104">wg at grandegger.com
       </A><BR>
    <I>Thu Jun 11 18:37:57 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000887.html">[Socketcan-users] Socket CAN with intel 82527 CAN Controller on	PC104
</A></li>
        <LI>Next message: <A HREF="000890.html">[Socketcan-users] Socket CAN with intel 82527 CAN Controller on	PC104
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#889">[ date ]</a>
              <a href="thread.html#889">[ thread ]</a>
              <a href="subject.html#889">[ subject ]</a>
              <a href="author.html#889">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>khurram gulzar wrote:
&gt;<i> I tried the candump by
</I>&gt;<i> ./candump can0,0:0,#FFFFFFFF
</I>&gt;<i> 
</I>&gt;<i> The acknowlegement is recieved by the remote host
</I>&gt;<i> but unable to recieve packets on the 82527? with Baud 500
</I>
Do you see the interrupts count going up (via /proc/interrupts).

&gt;<i> About the baud the BitRate register is already set to 0 so that means to
</I>&gt;<i> double the baud rate either i need to double the clock or i need to turn
</I>&gt;<i> off the dmc if its already enabled  ???
</I>
Hier is the description from the i82527 manual

 DSC Divide System Clock (SCLK) The SCLK may
    not exceed 10 MHz See section 4.5

 one    The system clock SCLK is equal to
        XTAL/2

 zero   The system clock SCLK is equal to XTAL
        This bit is written by the CPU

 DMC Divide Memory Clock The memory clock may
    not exceed 8 MHz See section 4 5

 one    The memory clock MCLK is equal to
        SCLK/2

 zero   The memory clock MCLK is equal to SCLK
        This bit is written by the CPU

For 16MHz, with is the usual XTAL, the bits should be DSC=1 and DMC=0.
Try playing with clk and force_dmc. Do you known the real XTAL of the
card? Do you have the Linux driver for the card from Eurotech?
I also believe, that the bit-time calculation of the driver should work,
but it uses some strange defaults. Oliver?

BTW: do you have the Linux driver for the card from Eurotech?

Wolfgang.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000887.html">[Socketcan-users] Socket CAN with intel 82527 CAN Controller on	PC104
</A></li>
	<LI>Next message: <A HREF="000890.html">[Socketcan-users] Socket CAN with intel 82527 CAN Controller on	PC104
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#889">[ date ]</a>
              <a href="thread.html#889">[ thread ]</a>
              <a href="subject.html#889">[ subject ]</a>
              <a href="author.html#889">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
