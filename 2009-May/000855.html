<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] Sporadic kernel panic
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Sporadic%20kernel%20panic&In-Reply-To=%3C4A1D5B07.3070002%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000854.html">
   <LINK REL="Next"  HREF="000856.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] Sporadic kernel panic</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20Sporadic%20kernel%20panic&In-Reply-To=%3C4A1D5B07.3070002%40hartkopp.net%3E"
       TITLE="[Socketcan-users] Sporadic kernel panic">socketcan at hartkopp.net
       </A><BR>
    <I>Wed May 27 17:23:51 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000854.html">[Socketcan-users] Sporadic kernel panic
</A></li>
        <LI>Next message: <A HREF="000856.html">[Socketcan-users] Sporadic kernel panic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#855">[ date ]</a>
              <a href="thread.html#855">[ thread ]</a>
              <a href="subject.html#855">[ subject ]</a>
              <a href="author.html#855">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolf, Mikael wrote:

&gt;<i> 
</I>&gt;<i> BUG: unable to handle kernel NULL pointer dereference at 00000000
</I>&gt;<i> IP: [&lt;00000000&gt;] 0x000000
</I>&gt;<i> *pde = 00000000
</I>&gt;<i> Oops: 0000 [#1]
</I>&gt;<i> last sysfs file: /sys/class/net/can0/can_restart
</I>
Hi Mikael,

as far as i understand Wolfgang he wanted to check if the problems also exist
with the new _netlink_ configuration interface.

But you obviously still use the SYSFS approach, which is assumed to have some
problems - already pointed out by several kernel maintainers.

For that reason you need to compile the CAN driver interface from
branches/netlink *without* setting CONFIG_CAN_DEV_SYSFS !

The only way to configure the CAN interface is done by the ip(8) tool which is
part of the iproute2 package. There are no(!) CAN specific sysfs entries
created, when you compiled the right thing.

The iproute patches for CAN are posted here (by Wolfgang):
<A HREF="http://marc.info/?l=linux-netdev&amp;m=124212144302814&amp;w=2">http://marc.info/?l=linux-netdev&amp;m=124212144302814&amp;w=2</A>
<A HREF="http://marc.info/?l=linux-netdev&amp;m=124212144402818&amp;w=2">http://marc.info/?l=linux-netdev&amp;m=124212144402818&amp;w=2</A>

To get the latest iproute2 source code see here:
<A HREF="http://www.linuxfoundation.org/en/Net:Iproute2">http://www.linuxfoundation.org/en/Net:Iproute2</A>

The best is to get the source with 'git' and apply the patches posted by Wolfgang.

Thanks for testing and the description of the way to get the problem!

Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000854.html">[Socketcan-users] Sporadic kernel panic
</A></li>
	<LI>Next message: <A HREF="000856.html">[Socketcan-users] Sporadic kernel panic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#855">[ date ]</a>
              <a href="thread.html#855">[ thread ]</a>
              <a href="subject.html#855">[ subject ]</a>
              <a href="author.html#855">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
