<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users]  SPEAR320 SOC TX problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20%20SPEAR320%20SOC%20TX%20problem&In-Reply-To=%3C31748715.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001907.html">
   <LINK REL="Next"  HREF="001909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users]  SPEAR320 SOC TX problem</H1>
    <B>Charles H</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20%20SPEAR320%20SOC%20TX%20problem&In-Reply-To=%3C31748715.post%40talk.nabble.com%3E"
       TITLE="[Socketcan-users]  SPEAR320 SOC TX problem">charles.j.hermann at navy.mil
       </A><BR>
    <I>Wed Jun  1 14:57:41 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001907.html">[Socketcan-users] Running MCP2515 with custom SPI
</A></li>
        <LI>Next message: <A HREF="001909.html">[Socketcan-users] SPEAR320 SOC TX problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello:
I have a problem with a SPEAR 320 SOC board with kernel 2.6.27,using the
spr_can driver and only sysfs for config:
The board uses CAN0 and has only one other device on the bus.
I can transmit and receive fine for about 20 minutes, transmitting at 75 hz.
at this point the tx quits and returns with  No buffer space available.
candump shows that the tx has stopped transmitting completely but the rx
works fine. I am using different tx and rx sockets ,dont think that should
matter. Candump shows the received messages getting through fine, but
nothing for tx. Obviously the bus remains up sysfs status does not show any
problems. Also if I bring Can0 down and back up again, it flushes the
buffers and everything works ok for another several minutes. I have tried
increasing tx queue len and it does not help at all. Any ideas?  problems
with the driver? This sounds much like problems others have reported with
other drivers.

Thanks ,

Chuck Hermann
-- 
View this message in context: <A HREF="http://old.nabble.com/SPEAR320-SOC-TX-problem-tp31748715p31748715.html">http://old.nabble.com/SPEAR320-SOC-TX-problem-tp31748715p31748715.html</A>
Sent from the Socket-CAN Users mailing list archive at Nabble.com.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001907.html">[Socketcan-users] Running MCP2515 with custom SPI
</A></li>
	<LI>Next message: <A HREF="001909.html">[Socketcan-users] SPEAR320 SOC TX problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
