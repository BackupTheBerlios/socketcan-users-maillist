<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-users] can raw write blocking
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-users/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20can%20raw%20write%20blocking&In-Reply-To=%3C484AF2B3.7050703%40probestar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000393.html">
   <LINK REL="Next"  HREF="000395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-users] can raw write blocking</H1>
    <B>Neal Probert</B> 
    <A HREF="mailto:socketcan-users%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-users%5D%20can%20raw%20write%20blocking&In-Reply-To=%3C484AF2B3.7050703%40probestar.com%3E"
       TITLE="[Socketcan-users] can raw write blocking">nprobert at probestar.com
       </A><BR>
    <I>Sat Jun  7 22:42:27 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000393.html">[Socketcan-users] can raw write blocking
</A></li>
        <LI>Next message: <A HREF="000395.html">[Socketcan-users] can raw write blocking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#394">[ date ]</a>
              <a href="thread.html#394">[ thread ]</a>
              <a href="subject.html#394">[ subject ]</a>
              <a href="author.html#394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The PCAN driver was returning EAGAIN.

I just realized that the TX queue fills up because there's no receiver 
to acknowledge the CAN messages.  Once I hooked one up, then the 
messages flow!

It would be nice if there was some kind of TTL on each frame so they can 
be expired if they sit in the queue too long.

Is there any call to purge the queue?

Neal Probert wrote:
&gt;<i> In /var/log/messages, I see:
</I>&gt;<i>
</I>&gt;<i> NETDEV WATCHDOG: can0: transmit timed out message
</I>&gt;<i>
</I>&gt;<i> So, what does that mean?
</I>&gt;<i>
</I>&gt;<i> Hardware is a PeakSystems USB PCAN on a little old Mini-ITX with USB 1.0 
</I>&gt;<i> ports.
</I>&gt;<i>
</I>&gt;<i> Neal Probert wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Is there any reason a can raw write would block?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a fast machine (64 bit) that has no problem sending data, but a 
</I>&gt;&gt;<i> slower machine (32 bit) sends a bunch and then just blocks 
</I>&gt;&gt;<i> indefinitely.  I change the tx queue length, but that doesn't seem to 
</I>&gt;&gt;<i> make a difference.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>

-- 

             *** ProbeStar Telematics, LLC.  ***
  Automotive, Mobile and Embedded Communications Consulting

==// Neal W. Probert (President)   / Email: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-users">nprobert at probestar.com</A> //
=// Web: www.probestar.com        / Phone: 248-522-6836           //=
// Fax:                          / Cell:                         //==



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000393.html">[Socketcan-users] can raw write blocking
</A></li>
	<LI>Next message: <A HREF="000395.html">[Socketcan-users] can raw write blocking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#394">[ date ]</a>
              <a href="thread.html#394">[ thread ]</a>
              <a href="subject.html#394">[ subject ]</a>
              <a href="author.html#394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-users">More information about the Socketcan-users
mailing list</a><br>
</body></html>
